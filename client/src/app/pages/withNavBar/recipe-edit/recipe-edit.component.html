<div *ngIf="oneRecipe$ | async">
  <div fxLayoutAlign="center ">
    <mat-card fxFlex="100">
      <form
        fxLayout="column"
        class="form"
        [formGroup]="form"
        (ngSubmit)="edit()"
      >
        <mat-form-field>
          <input matInput placeholder="Name" formControlName="name" />
        </mat-form-field>

        <ng-container formArrayName="ingredients">
          <ng-container *ngFor="let ingredientsForm of ingredients.controls">
            <div [formGroup]="ingredientsForm">
              <mat-form-field>
                <input
                  matInput
                  placeholder="Ingredient"
                  formControlName="ingredient"
                />
              </mat-form-field>
              <mat-form-field class="form-field-margin">
                <input
                  matInput
                  placeholder="Amount"
                  type="number"
                  min="1"
                  formControlName="amount"
                />
              </mat-form-field>

              <mat-form-field class="form-field form-field-margin">
                <mat-select formControlName="unit" placeholder="Unit">
                  <mat-option
                    *ngFor="let data of unitList | keyvalue"
                    [value]="data.key"
                  >
                    {{ data.value }}
                  </mat-option>
                </mat-select>
              </mat-form-field>
            </div>
          </ng-container>
        </ng-container>

        <mat-form-field>
          <textarea
            matInput
            placeholder="Description"
            formControlName="description"
          >
          </textarea>
        </mat-form-field>
        <button mat-raised-button color="primary" type="submit">Submit</button>
        <mat-radio-group formControlName="private">
          <p>Private Recipe ?</p>
          <mat-radio-button
            *ngFor="let option of options"
            [value]="option.value"
          >
            {{ option.lable }}
          </mat-radio-button>
        </mat-radio-group>
      </form>
    </mat-card>
  </div>
</div>
